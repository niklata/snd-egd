Copyright (C) 2008-2010 Nicholas J. Kain
Licensed under GNU GPLv3.

Requirements
------------

Linux Kernel (ALSA is needed; I haven't added support for OSS)
C99 compiler (I used gcc 4.x)

Installation
------------

Edit defines.h as necessary.

make
strip snd-egd

Copy snd-egd to a path of your choice.

Create a new user and group for snd-egd, and create an empty directory for
its chroot jail. (optional)

Set your sound card mixer settings so that a non-muted recording channel
is available.  Confirm that it is producing output.  Turn up the gain
as high as is possible without compressing the dynamic range of the output.

Run snd-egd as a root user with a command line similar to the following:

snd-egd -nv -u snd-egd -c /var/empty

Drain the kernel random device of stored entropy by running the
following command in another terminal:

cat /dev/urandom >| /dev/null

snd-egd should print to its controlling terminal output indicating that
the random device is being filled back with sample entropy as it is being
drained.

Check the frequency distribution of the generated entropy by either
exiting snd-egd (ctrl+c or send a signal) or by sending it the SIGUSR1
signal.  Make sure that the generated output looks fairly uniform in
dispersion.  Note that a fair number of samples should be taken to
judge uniformity; truly random data will contain nonuniformity in small
sample sets.

If everything looks good, run on a permanent basis by using a command
similar to the following:

snd-egd -nv -u snd-egd -c /var/empty

Add the command to your init scripts if you wish for snd-egd to run
at startup.
